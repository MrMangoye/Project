@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(-10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: .5; }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@layer base {
  body {
    @apply antialiased text-gray-800 bg-gradient-to-br from-gray-50 to-blue-50;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
  
  /* Custom focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
  }
  
  /* Better selection */
  ::selection {
    @apply bg-blue-100 text-blue-800;
  }
  
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded hover:bg-gray-400 transition-colors;
  }
}

@layer components {
  /* Enhanced Buttons */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2.5 rounded-lg font-medium 
           transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 
           focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed 
           active:scale-[0.98] shadow-sm;
  }
  
  .btn-primary {
    @apply btn bg-gradient-to-r from-blue-600 to-blue-700 text-white 
           hover:from-blue-700 hover:to-blue-800 hover:shadow-md 
           border border-blue-600;
  }
  
  .btn-secondary {
    @apply btn bg-white text-gray-700 border border-gray-300 
           hover:bg-gray-50 hover:border-gray-400 hover:shadow-md;
  }
  
  .btn-success {
    @apply btn bg-gradient-to-r from-green-600 to-emerald-600 text-white 
           hover:from-green-700 hover:to-emerald-700 hover:shadow-md;
  }
  
  .btn-danger {
    @apply btn bg-gradient-to-r from-red-600 to-rose-600 text-white 
           hover:from-red-700 hover:to-rose-700 hover:shadow-md;
  }
  
  .btn-warning {
    @apply btn bg-gradient-to-r from-amber-500 to-orange-500 text-white 
           hover:from-amber-600 hover:to-orange-600 hover:shadow-md;
  }
  
  .btn-outline {
    @apply btn bg-transparent border border-gray-300 text-gray-700 
           hover:bg-gray-50 hover:border-gray-400 hover:shadow-sm;
  }
  
  .btn-ghost {
    @apply btn bg-transparent border-transparent text-gray-600 
           hover:bg-gray-100 hover:text-gray-900;
  }
  
  /* Enhanced Cards */
  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-200 
           transition-all duration-300 hover:shadow-md overflow-hidden;
  }
  
  .card-padded {
    @apply card p-6;
  }
  
  .card-header {
    @apply border-b border-gray-200 pb-4 mb-4;
  }
  
  .card-title {
    @apply text-xl font-bold text-gray-900 tracking-tight;
  }
  
  .card-subtitle {
    @apply text-sm text-gray-600 mt-1;
  }
  
  /* Enhanced Forms */
  .form-group {
    @apply mb-6;
  }
  
  .form-label {
    @apply block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-1;
  }
  
  .form-label-required::after {
    content: "*";
    @apply text-red-500 ml-1;
  }
  
  .form-input {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg bg-white
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 
           placeholder:text-gray-400 transition-all duration-200 text-gray-900
           disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500
           shadow-sm;
  }
  
  .form-input-error {
    @apply border-red-300 focus:border-red-500 focus:ring-red-500;
  }
  
  .form-input-success {
    @apply border-green-300 focus:border-green-500 focus:ring-green-500;
  }
  
  .form-textarea {
    @apply form-input resize-y min-h-[120px];
  }
  
  .form-select {
    @apply form-input;
  }
  
  .form-checkbox {
    @apply h-5 w-5 text-blue-600 border-gray-300 rounded 
           focus:ring-blue-500 focus:ring-2 focus:ring-offset-0 cursor-pointer;
  }
  
  .form-radio {
    @apply h-5 w-5 text-blue-600 border-gray-300 cursor-pointer
           focus:ring-blue-500 focus:ring-2 focus:ring-offset-0;
  }
  
  .form-switch {
    @apply relative inline-flex h-6 w-11 items-center rounded-full 
           bg-gray-200 transition-colors cursor-pointer;
  }
  
  .form-switch-checked {
    @apply bg-blue-600;
  }
  
  .form-switch-handle {
    @apply inline-block h-4 w-4 transform rounded-full bg-white 
           transition-transform translate-x-1;
  }
  
  .form-switch-handle-checked {
    @apply translate-x-6;
  }
  
  .form-error {
    @apply mt-2 text-sm text-red-600 flex items-center gap-2;
  }
  
  .form-success {
    @apply mt-2 text-sm text-green-600 flex items-center gap-2;
  }
  
  .form-hint {
    @apply mt-2 text-sm text-gray-500 flex items-center gap-2;
  }
  
  /* Alerts */
  .alert {
    @apply p-4 rounded-lg border animate-fadeIn;
  }
  
  .alert-info {
    @apply alert bg-gradient-to-r from-blue-50 to-sky-50 border-blue-200 text-blue-800;
  }
  
  .alert-success {
    @apply alert bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 text-green-800;
  }
  
  .alert-warning {
    @apply alert bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200 text-amber-800;
  }
  
  .alert-danger {
    @apply alert bg-gradient-to-r from-red-50 to-rose-50 border-red-200 text-red-800;
  }
  
  /* Badges */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold;
  }
  
  .badge-primary {
    @apply badge bg-gradient-to-r from-blue-100 to-blue-50 text-blue-800 border border-blue-200;
  }
  
  .badge-success {
    @apply badge bg-gradient-to-r from-green-100 to-emerald-50 text-green-800 border border-green-200;
  }
  
  .badge-warning {
    @apply badge bg-gradient-to-r from-amber-100 to-orange-50 text-amber-800 border border-amber-200;
  }
  
  .badge-danger {
    @apply badge bg-gradient-to-r from-red-100 to-rose-50 text-red-800 border border-red-200;
  }
  
  .badge-gray {
    @apply badge bg-gradient-to-r from-gray-100 to-gray-50 text-gray-800 border border-gray-200;
  }
  
  .badge-purple {
    @apply badge bg-gradient-to-r from-purple-100 to-violet-50 text-purple-800 border border-purple-200;
  }
  
  /* Loading States */
  .spinner {
    @apply animate-spin rounded-full border-2 border-gray-300 border-t-blue-600;
  }
  
  .spinner-sm {
    @apply spinner h-4 w-4;
  }
  
  .spinner-md {
    @apply spinner h-6 w-6;
  }
  
  .spinner-lg {
    @apply spinner h-8 w-8;
  }
  
  .loading {
    @apply opacity-50 pointer-events-none;
  }
  
  .skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }
  
  /* Navigation */
  .nav-link {
    @apply text-gray-600 hover:text-gray-900 hover:bg-gray-100 px-3 py-2 rounded-lg 
           transition-all duration-200 flex items-center gap-2;
  }
  
  .nav-link-active {
    @apply text-blue-600 bg-blue-50 font-semibold;
  }
  
  /* Tables */
  .table-container {
    @apply overflow-x-auto rounded-xl border border-gray-200 shadow-sm;
  }
  
  .table {
    @apply min-w-full divide-y divide-gray-200;
  }
  
  .table-header {
    @apply bg-gradient-to-r from-gray-50 to-gray-100;
  }
  
  .table-header-cell {
    @apply px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider;
  }
  
  .table-body {
    @apply bg-white divide-y divide-gray-100;
  }
  
  .table-row {
    @apply hover:bg-gray-50 transition-colors duration-150;
  }
  
  .table-cell {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
  }
  
  .table-cell-muted {
    @apply table-cell text-gray-600;
  }
  
  .table-cell-center {
    @apply table-cell text-center;
  }
  
  /* Modals & Overlays */
  .modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50;
    animation: fadeIn 0.2s ease-out;
  }
  
  .modal-content {
    @apply bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden 
           animate-slideIn border border-gray-200;
  }
  
  .modal-header {
    @apply flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white;
  }
  
  .modal-title {
    @apply text-2xl font-bold text-gray-900;
  }
  
  .modal-body {
    @apply p-6 overflow-y-auto max-h-[calc(90vh-12rem)];
  }
  
  .modal-footer {
    @apply p-6 border-t border-gray-200 bg-gray-50/50 flex justify-end gap-3;
  }
  
  /* Dropdowns */
  .dropdown {
    @apply relative inline-block;
  }
  
  .dropdown-menu {
    @apply absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 
           py-2 z-50 animate-fadeIn divide-y divide-gray-100 min-w-[200px];
  }
  
  .dropdown-item {
    @apply flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 
           transition-colors duration-150 cursor-pointer;
  }
  
  .dropdown-item-danger {
    @apply dropdown-item text-red-600 hover:text-red-700 hover:bg-red-50;
  }
  
  .dropdown-divider {
    @apply my-2 border-t border-gray-200;
  }
  
  /* Avatars */
  .avatar {
    @apply inline-flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-purple-600 
           text-white font-semibold shadow-sm;
  }
  
  .avatar-sm {
    @apply avatar h-8 w-8 text-sm;
  }
  
  .avatar-md {
    @apply avatar h-10 w-10;
  }
  
  .avatar-lg {
    @apply avatar h-12 w-12 text-lg;
  }
  
  /* Tooltips */
  .tooltip {
    @apply absolute z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg 
           shadow-sm opacity-0 invisible transition-all duration-150 group-hover:opacity-100 
           group-hover:visible;
  }
  
  /* Tabs */
  .tabs {
    @apply flex border-b border-gray-200;
  }
  
  .tab {
    @apply px-4 py-3 text-sm font-medium text-gray-600 hover:text-gray-900 border-b-2 
           border-transparent hover:border-gray-300 transition-all duration-200 cursor-pointer;
  }
  
  .tab-active {
    @apply tab text-blue-600 border-blue-600 hover:border-blue-600;
  }
  
  /* Progress Bars */
  .progress-bar {
    @apply h-2 bg-gray-200 rounded-full overflow-hidden;
  }
  
  .progress-fill {
    @apply h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-500;
  }
  
  /* Toast Notifications */
  .toast {
    @apply fixed top-4 right-4 z-50 max-w-sm w-full bg-white rounded-xl shadow-lg border 
           p-4 animate-slideIn flex items-start gap-3;
  }
  
  .toast-success {
    @apply toast border-green-200 bg-gradient-to-r from-green-50 to-emerald-50;
  }
  
  .toast-error {
    @apply toast border-red-200 bg-gradient-to-r from-red-50 to-rose-50;
  }
  
  .toast-warning {
    @apply toast border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50;
  }
  
  .toast-info {
    @apply toast border-blue-200 bg-gradient-to-r from-blue-50 to-sky-50;
  }
}

@layer utilities {
  /* Animation Utilities */
  .animate-fadeIn {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  .animate-slideIn {
    animation: slideIn 0.3s ease-out;
  }
  
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  .animate-bounce {
    animation: bounce 1s infinite;
  }
  
  .animate-shimmer {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
  
  /* Layout Utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }
  
  .flex-between {
    @apply flex items-center justify-between;
  }
  
  .flex-col-center {
    @apply flex flex-col items-center justify-center;
  }
  
  .grid-center {
    @apply grid place-items-center;
  }
  
  /* Text Utilities */
  .text-gradient {
    @apply bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent;
  }
  
  .text-balance {
    text-wrap: balance;
  }
  
  .text-pretty {
    text-wrap: pretty;
  }
  
  .truncate-1 {
    @apply overflow-hidden text-ellipsis whitespace-nowrap;
  }
  
  .truncate-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .truncate-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
  
  /* Scrollbar Utilities */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded hover:bg-gray-400;
  }
  
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Interactive States */
  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-1;
  }
  
  .hover-glow {
    @apply transition-shadow duration-300 hover:shadow-xl hover:shadow-blue-500/10;
  }
  
  .active-scale {
    @apply active:scale-[0.98] transition-transform duration-150;
  }
  
  /* Glass Effects */
  .glass {
    @apply bg-white/80 backdrop-blur-md border border-white/20 shadow-lg;
  }
  
  .glass-dark {
    @apply bg-gray-900/80 backdrop-blur-md border border-gray-700/50 shadow-lg;
  }
  
  /* Aspect Ratios */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }
  
  .aspect-square {
    aspect-ratio: 1 / 1;
  }
  
  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }
  
  /* Grid Utilities */
  .grid-auto-fit {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
  }
  
  .grid-auto-fill {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
  }
  
  /* Background Patterns */
  .bg-dots {
    background-image: radial-gradient(currentColor 1px, transparent 1px);
    background-size: calc(10 * 1px) calc(10 * 1px);
  }
  
  .bg-grid {
    background-image: linear-gradient(to right, #80808012 1px, transparent 1px),
                      linear-gradient(to bottom, #80808012 1px, transparent 1px);
    background-size: 24px 24px;
  }
  
  /* Gradient Backgrounds */
  .gradient-primary {
    @apply bg-gradient-to-br from-blue-500 to-purple-600;
  }
  
  .gradient-success {
    @apply bg-gradient-to-br from-green-500 to-emerald-600;
  }
  
  .gradient-warning {
    @apply bg-gradient-to-br from-amber-500 to-orange-600;
  }
  
  .gradient-danger {
    @apply bg-gradient-to-br from-red-500 to-rose-600;
  }
  
  /* Border Utilities */
  .border-gradient {
    border-image: linear-gradient(90deg, #3b82f6, #8b5cf6) 1;
  }
  
  /* Shadow Utilities */
  .shadow-soft {
    box-shadow: 0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04);
  }
  
  .shadow-hard {
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  /* Transform Utilities */
  .rotate-45 {
    transform: rotate(45deg);
  }
  
  .-rotate-45 {
    transform: rotate(-45deg);
  }
  
  /* Custom Transitions */
  .transition-all-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .transition-all-slow {
    transition: all 0.5s ease-in-out;
  }
  
  /* Z-index Utilities */
  .z-60 {
    z-index: 60;
  }
  
  .z-70 {
    z-index: 70;
  }
  
  .z-80 {
    z-index: 80;
  }
  
  .z-90 {
    z-index: 90;
  }
  
  .z-100 {
    z-index: 100;
  }
  
  /* Print Utilities */
  @media print {
    .print-hidden {
      display: none !important;
    }
    
    .print-only {
      display: block !important;
    }
  }
  
  .break-inside-avoid {
    break-inside: avoid;
  }
  
  /* Accessibility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  .not-sr-only {
    position: static;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
  
  /* Height Utilities */
  .min-h-screen-safe {
    min-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }
  
  .h-screen-safe {
    height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }
  
  /* Width Utilities */
  .w-screen-safe {
    width: calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));
  }
  
  /* Filter Utilities */
  .grayscale {
    filter: grayscale(100%);
  }
  
  .grayscale-0 {
    filter: grayscale(0);
  }
  
  /* Blur Utilities */
  .backdrop-blur-sm {
    backdrop-filter: blur(4px);
  }
  
  .backdrop-blur-md {
    backdrop-filter: blur(8px);
  }
  
  .backdrop-blur-lg {
    backdrop-filter: blur(16px);
  }
}